dependenciesLoader(["CodeMirror"],function(){!function(a){"object"==typeof exports&&"object"==typeof module?a(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],a):a(CodeMirror)}(function(k){function p(x,z,q,a){var c=x.getLineHandle(z.line),w=z.ch-1,n=w>=0&&l[c.text.charAt(w)]||l[c.text.charAt(++w)];if(!n){return null}var y=">"==n.charAt(1)?1:-1;if(q&&y>0!=(w==z.ch)){return null}var v=x.getTokenTypeAt(m(z.line,w+1)),A=g(x,m(z.line,w+(y>0?1:0)),y,v||null,a);return null==A?null:{from:m(z.line,w),to:A&&A.pos,match:A&&A.ch==n.charAt(0),forward:y>0}}function g(D,H,w,z,a){for(var q=a&&a.maxScanLineLength||10000,C=a&&a.maxScanLines||1000,y=[],G=a&&a.bracketRegex?a.bracketRegex:/[(){}[\]]/,A=w>0?Math.min(H.line+C,D.lastLine()+1):Math.max(D.firstLine()-1,H.line-C),I=H.line;I!=A;I+=w){var x=D.getLine(I);if(x){var E=w>0?0:x.length-1,B=w>0?x.length:-1;if(!(x.length>q)){for(I==H.line&&(E=H.ch-(0>w?1:0));E!=B;E+=w){var c=x.charAt(E);if(G.test(c)&&(void 0===z||D.getTokenTypeAt(m(I,E+1))==z)){var F=l[c];if(">"==F.charAt(1)==w>0){y.push(c)}else{if(!y.length){return{pos:m(I,E),ch:c}}y.pop()}}}}}}return I-w==(w>0?D.lastLine():D.firstLine())?!1:null}function h(x,o,t){for(var a=x.state.matchBrackets.maxHighlightLineLength||1000,y=[],w=x.listSelections(),q=0;q<w.length;q++){var z=w[q].empty()&&p(x,w[q].head,!1,t);if(z&&x.getLine(z.from.line).length<=a){var v=z.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";y.push(x.markText(z.from,m(z.from.line,z.from.ch+1),{className:v})),z.to&&x.getLine(z.to.line).length<=a&&y.push(x.markText(z.to,m(z.to.line,z.to.ch+1),{className:v}))}}if(y.length){d&&x.state.focused&&x.focus();var A=function(){x.operation(function(){for(var c=0;c<y.length;c++){y[c].clear()}})};if(!o){return A}setTimeout(A,800)}}function b(a){a.operation(function(){j&&(j(),j=null),j=h(a,!1,a.state.matchBrackets)})}var d=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),m=k.Pos,l={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},j=null;k.defineOption("matchBrackets",!1,function(c,e,a){a&&a!=k.Init&&c.off("cursorActivity",b),e&&(c.state.matchBrackets="object"==typeof e?e:{},c.on("cursorActivity",b))}),k.defineExtension("matchBrackets",function(){h(this,!0)}),k.defineExtension("findMatchingBracket",function(c,f,a){return p(this,c,f,a)}),k.defineExtension("scanForBracket",function(n,c,a,f){return g(this,n,c,a,f)})})});